{"ast":null,"code":"var _jsxFileName = \"/Users/Simon/Projects/worldpay/checkout/client/src/components/CheckoutForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { processPayment } from \"../services/paymentService\";\nimport \"./CheckoutForm.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction scriptAlreadyLoaded(src) {\n  return document.querySelector(`script[src=\"${src}\"]`);\n}\nfunction loadCheckoutScript(src) {\n  return new Promise((resolve, reject) => {\n    if (scriptAlreadyLoaded(src)) {\n      resolve(null);\n      return;\n    }\n    let checkoutScript = document.createElement(\"script\");\n    checkoutScript.src = src;\n    checkoutScript.onload = resolve;\n    checkoutScript.onerror = reject;\n    document.head.appendChild(checkoutScript);\n  });\n}\nfunction addWorldpayCheckoutToPage() {\n  return new Promise((resolve, reject) => {\n    (function () {\n      window.Worldpay.checkout.init({\n        id: \"de71d389-ac4b-43c5-b632-5a82bdf19eaf\",\n        form: \"#container\",\n        fields: {\n          pan: {\n            selector: \"#card-pan\"\n          },\n          expiry: {\n            selector: \"#card-expiry\"\n          },\n          cvv: {\n            selector: \"#card-cvv\"\n          }\n        },\n        styles: {\n          \"input.is-valid\": {\n            \"color\": \"green\"\n          },\n          \"input.is-invalid\": {\n            \"color\": \"red\"\n          },\n          \"input.is-onfocus\": {\n            \"color\": \"black\"\n          }\n        },\n        enablePanFormatting: true\n      }, function (error, checkout) {\n        if (error) {\n          reject(error);\n        } else {\n          resolve(checkout);\n        }\n      });\n    })();\n  });\n}\nfunction CheckoutForm() {\n  _s();\n  const checkoutScriptUrl = \"https://try.access.worldpay.com/access-checkout/v2/checkout.js\";\n  const checkoutRef = useRef(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [paymentResult, setPaymentResult] = useState(null);\n  const [paymentAmount, setPaymentAmount] = useState(100); // Default amount of 100 (£1.00)\n\n  function generateSession() {\n    if (!checkoutRef.current) return;\n    setIsProcessing(true);\n    setPaymentResult(null);\n    checkoutRef.current.generateSessionState(function (error, session) {\n      if (error) {\n        console.warn(`Failed to generate session: ${error}`);\n        setPaymentResult({\n          success: false,\n          error: `Failed to generate session: ${error}`\n        });\n        setIsProcessing(false);\n        return;\n      }\n      const infoDiv = document.querySelector(\".info\");\n      if (infoDiv) {\n        infoDiv.innerHTML += `<div>Session retrieved is ${session}</div>`;\n      }\n      console.log(`Session generated: ${session}`);\n\n      // Process payment with the session\n      handlePayment(session);\n    });\n  }\n  async function handlePayment(session) {\n    try {\n      // Ensure the session is properly formatted\n      const formattedSession = session.trim();\n      console.log(`Processing payment with session: ${formattedSession}`);\n      const result = await processPayment(formattedSession, paymentAmount);\n      setPaymentResult({\n        success: result.success,\n        message: result.message,\n        transactionId: result.transactionId,\n        details: result.details\n      });\n    } catch (error) {\n      console.error('Payment error:', error);\n\n      // Check for specific error types\n      let errorMessage = 'Payment processing failed';\n      if (error instanceof Error) {\n        errorMessage = error.message;\n\n        // Handle specific error cases\n        if (errorMessage.includes('bodyDoesNotMatchSchema')) {\n          errorMessage = 'The payment request format is invalid. Please contact support.';\n        }\n      }\n      setPaymentResult({\n        success: false,\n        error: errorMessage\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  }\n  function clearForm() {\n    if (!checkoutRef.current) return;\n    checkoutRef.current.clearForm(() => {\n      const infoDiv = document.querySelector(\".info\");\n      if (infoDiv) {\n        infoDiv.innerHTML = \"\";\n      }\n      setPaymentResult(null);\n    });\n  }\n  useEffect(() => {\n    loadCheckoutScript(checkoutScriptUrl).then(() => {\n      addWorldpayCheckoutToPage().then(checkoutInstance => {\n        checkoutRef.current = checkoutInstance;\n      }).catch(console.warn);\n    }).catch(console.warn);\n\n    // Cleanup function\n    return () => {\n      if (checkoutRef.current) {\n        checkoutRef.current.remove();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"container\",\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"card-pan\",\n        className: \"field\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"columns\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            id: \"card-expiry\",\n            className: \"field\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            id: \"card-cvv\",\n            className: \"field\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"amount-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"payment-amount\",\n          children: \"Amount (in pence):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"payment-amount\",\n          type: \"number\",\n          min: \"1\",\n          value: paymentAmount,\n          onChange: e => setPaymentAmount(Number(e.target.value)),\n          disabled: isProcessing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit\",\n          type: \"button\",\n          onClick: generateSession,\n          disabled: isProcessing,\n          children: isProcessing ? 'Processing...' : 'Pay Now'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear\",\n          type: \"button\",\n          onClick: clearForm,\n          disabled: isProcessing,\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"info\",\n      className: \"info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), paymentResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `payment-result ${paymentResult.success ? 'success' : 'error'}`,\n      children: paymentResult.success ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: paymentResult.message || 'Payment successful!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 15\n        }, this), paymentResult.transactionId && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Transaction ID: \", paymentResult.transactionId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this), paymentResult.details && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Payment Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Outcome:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 24\n              }, this), \" \", paymentResult.details.outcome]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Transaction Reference:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 24\n              }, this), \" \", paymentResult.details.transactionReference]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 21\n            }, this), paymentResult.details.authorizationCode && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Authorization Code:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 26\n              }, this), \" \", paymentResult.details.authorizationCode]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 23\n            }, this), paymentResult.details.cardDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Card Information:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Card Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 28\n                }, this), \" \", paymentResult.details.cardDetails.cardBrand]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Last 4 Digits:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 28\n                }, this), \" \", paymentResult.details.cardDetails.lastFour]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 25\n              }, this), paymentResult.details.cardDetails.expiryDate && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Expiry:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 30\n                }, this), \" \", paymentResult.details.cardDetails.expiryDate.month, \"/\", paymentResult.details.cardDetails.expiryDate.year]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"technical-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Technical Details:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              children: JSON.stringify(paymentResult.details, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Error: \", paymentResult.error || 'Payment failed']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: paymentResult.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 15\n        }, this), paymentResult.details && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Error Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            children: JSON.stringify(paymentResult.details, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutForm, \"MSZpV3Mk2HtZPn9dV55mj/Jbe6E=\");\n_c = CheckoutForm;\nexport default CheckoutForm;\nvar _c;\n$RefreshReg$(_c, \"CheckoutForm\");","map":{"version":3,"names":["React","useEffect","useRef","useState","processPayment","jsxDEV","_jsxDEV","Fragment","_Fragment","scriptAlreadyLoaded","src","document","querySelector","loadCheckoutScript","Promise","resolve","reject","checkoutScript","createElement","onload","onerror","head","appendChild","addWorldpayCheckoutToPage","window","Worldpay","checkout","init","id","form","fields","pan","selector","expiry","cvv","styles","enablePanFormatting","error","CheckoutForm","_s","checkoutScriptUrl","checkoutRef","isProcessing","setIsProcessing","paymentResult","setPaymentResult","paymentAmount","setPaymentAmount","generateSession","current","generateSessionState","session","console","warn","success","infoDiv","innerHTML","log","handlePayment","formattedSession","trim","result","message","transactionId","details","errorMessage","Error","includes","clearForm","then","checkoutInstance","catch","remove","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","min","value","onChange","e","Number","target","disabled","onClick","outcome","transactionReference","authorizationCode","cardDetails","cardBrand","lastFour","expiryDate","month","year","JSON","stringify","_c","$RefreshReg$"],"sources":["/Users/Simon/Projects/worldpay/checkout/client/src/components/CheckoutForm.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { processPayment } from \"../services/paymentService\";\nimport \"./CheckoutForm.css\";\n\nfunction scriptAlreadyLoaded(src: string) {\n  return document.querySelector(`script[src=\"${src}\"]`);\n}\n\nfunction loadCheckoutScript(src: string) {\n  return new Promise((resolve, reject) => {\n    if (scriptAlreadyLoaded(src)) {\n      resolve(null);\n      return;\n    }\n\n    let checkoutScript = document.createElement(\"script\");\n    checkoutScript.src = src;\n    checkoutScript.onload = resolve;\n    checkoutScript.onerror = reject;\n    document.head.appendChild(checkoutScript);\n  });\n}\n\nfunction addWorldpayCheckoutToPage() {\n  return new Promise<WorldpayCheckoutInstance>((resolve, reject) => {\n    (function () {\n      window.Worldpay.checkout.init(\n        {\n          id: \"de71d389-ac4b-43c5-b632-5a82bdf19eaf\",\n          form: \"#container\",\n          fields: {\n            pan: {\n              selector: \"#card-pan\",\n            },\n            expiry: {\n              selector: \"#card-expiry\",\n            },\n            cvv: {\n              selector: \"#card-cvv\",\n            },\n          },\n          styles: {\n            \"input.is-valid\": {\n              \"color\": \"green\",\n            },\n            \"input.is-invalid\": {\n              \"color\": \"red\",\n            },\n            \"input.is-onfocus\": {\n              \"color\": \"black\",\n            },\n          },\n          enablePanFormatting: true,\n        },\n        function (error: any, checkout: WorldpayCheckoutInstance) {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(checkout);\n          }\n        },\n      );\n    })();\n  });\n}\n\nfunction CheckoutForm() {\n  const checkoutScriptUrl = \"https://try.access.worldpay.com/access-checkout/v2/checkout.js\";\n  const checkoutRef = useRef<WorldpayCheckoutInstance | null>(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [paymentResult, setPaymentResult] = useState<{ \n    success?: boolean; \n    message?: string; \n    error?: string; \n    transactionId?: string;\n    details?: any;\n  } | null>(null);\n  const [paymentAmount, setPaymentAmount] = useState<number>(100); // Default amount of 100 (£1.00)\n\n  function generateSession() {\n    if (!checkoutRef.current) return;\n    \n    setIsProcessing(true);\n    setPaymentResult(null);\n    \n    checkoutRef.current.generateSessionState(\n      function (error: any, session: string) {\n        if (error) {\n          console.warn(`Failed to generate session: ${error}`);\n          setPaymentResult({\n            success: false,\n            error: `Failed to generate session: ${error}`\n          });\n          setIsProcessing(false);\n          return;\n        }\n\n        const infoDiv = document.querySelector(\".info\");\n        if (infoDiv) {\n          infoDiv.innerHTML += `<div>Session retrieved is ${session}</div>`;\n        }\n        \n        console.log(`Session generated: ${session}`);\n        \n        // Process payment with the session\n        handlePayment(session);\n      });\n  }\n  \n  async function handlePayment(session: string) {\n    try {\n      // Ensure the session is properly formatted\n      const formattedSession = session.trim();\n      \n      console.log(`Processing payment with session: ${formattedSession}`);\n      \n      const result = await processPayment(formattedSession, paymentAmount);\n      setPaymentResult({\n        success: result.success,\n        message: result.message,\n        transactionId: result.transactionId,\n        details: result.details\n      });\n    } catch (error) {\n      console.error('Payment error:', error);\n      \n      // Check for specific error types\n      let errorMessage = 'Payment processing failed';\n      if (error instanceof Error) {\n        errorMessage = error.message;\n        \n        // Handle specific error cases\n        if (errorMessage.includes('bodyDoesNotMatchSchema')) {\n          errorMessage = 'The payment request format is invalid. Please contact support.';\n        }\n      }\n      \n      setPaymentResult({\n        success: false,\n        error: errorMessage\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  }\n\n  function clearForm() {\n    if (!checkoutRef.current) return;\n    \n    checkoutRef.current.clearForm(() => {\n      const infoDiv = document.querySelector(\".info\");\n      if (infoDiv) {\n        infoDiv.innerHTML = \"\";\n      }\n      setPaymentResult(null);\n    });\n  }\n\n  useEffect(() => {\n    loadCheckoutScript(checkoutScriptUrl)\n      .then(() => {\n        addWorldpayCheckoutToPage()\n          .then((checkoutInstance) => {\n            checkoutRef.current = checkoutInstance;\n          })\n          .catch(console.warn);\n      })\n      .catch(console.warn);\n\n    // Cleanup function\n    return () => {\n      if (checkoutRef.current) {\n        checkoutRef.current.remove();\n      }\n    };\n  }, []);\n\n  return (\n    <section className=\"container\" id=\"container\">\n      <section className=\"card\">\n        <section id=\"card-pan\" className=\"field\" />\n        <section className=\"columns\">\n          <section>\n            <section id=\"card-expiry\" className=\"field\" />\n          </section>\n          <section>\n            <section id=\"card-cvv\" className=\"field\" />\n          </section>\n        </section>\n        <section className=\"amount-field\">\n          <label htmlFor=\"payment-amount\">Amount (in pence):</label>\n          <input\n            id=\"payment-amount\"\n            type=\"number\"\n            min=\"1\"\n            value={paymentAmount}\n            onChange={(e) => setPaymentAmount(Number(e.target.value))}\n            disabled={isProcessing}\n          />\n        </section>\n        <section className=\"buttons\">\n          <button \n            className=\"submit\" \n            type=\"button\" \n            onClick={generateSession}\n            disabled={isProcessing}\n          >\n            {isProcessing ? 'Processing...' : 'Pay Now'}\n          </button>\n          <button \n            className=\"clear\" \n            type=\"button\" \n            onClick={clearForm}\n            disabled={isProcessing}\n          >\n            Clear\n          </button>\n        </section>\n      </section>\n      <div id=\"info\" className=\"info\" />\n      {paymentResult && (\n        <div className={`payment-result ${paymentResult.success ? 'success' : 'error'}`}>\n          {paymentResult.success ? (\n            <>\n              <p>{paymentResult.message || 'Payment successful!'}</p>\n              {paymentResult.transactionId && (\n                <p>Transaction ID: {paymentResult.transactionId}</p>\n              )}\n              {paymentResult.details && (\n                <div className=\"payment-details\">\n                  <h4>Payment Details:</h4>\n                  <div className=\"payment-summary\">\n                    <p><strong>Outcome:</strong> {paymentResult.details.outcome}</p>\n                    <p><strong>Transaction Reference:</strong> {paymentResult.details.transactionReference}</p>\n                    {paymentResult.details.authorizationCode && (\n                      <p><strong>Authorization Code:</strong> {paymentResult.details.authorizationCode}</p>\n                    )}\n                    {paymentResult.details.cardDetails && (\n                      <div className=\"card-details\">\n                        <h5>Card Information:</h5>\n                        <p><strong>Card Type:</strong> {paymentResult.details.cardDetails.cardBrand}</p>\n                        <p><strong>Last 4 Digits:</strong> {paymentResult.details.cardDetails.lastFour}</p>\n                        {paymentResult.details.cardDetails.expiryDate && (\n                          <p><strong>Expiry:</strong> {paymentResult.details.cardDetails.expiryDate.month}/{paymentResult.details.cardDetails.expiryDate.year}</p>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"technical-details\">\n                    <h5>Technical Details:</h5>\n                    <pre>{JSON.stringify(paymentResult.details, null, 2)}</pre>\n                  </div>\n                </div>\n              )}\n            </>\n          ) : (\n            <>\n              <p>Error: {paymentResult.error || 'Payment failed'}</p>\n              <p>{paymentResult.message}</p>\n              {paymentResult.details && (\n                <div className=\"payment-details\">\n                  <h4>Error Details:</h4>\n                  <pre>{JSON.stringify(paymentResult.details, null, 2)}</pre>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      )}\n    </section>\n  );\n}\n\nexport default CheckoutForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}